{"name":"Webhook Eduzz","tagline":"Receba todas as alterações de status de uma fatura ","body":"# webhook-eduzz\r\nO webhook permite que você receba notificações a cada alteração de status de uma compra. Sempre que uma compra tiver seu status atualizado ( Pago, Cancelado, Reembolsado, etc... ) nós iremos enviar uma chamada via POST para uma URL pré-configurada nas configurações do seu conteúdo com alguns parâmetros para que você possa realizar suas decisões comerciais.\r\n\r\nConsideramos como **sucesso** todas as requisições que retornam o [status HTTP 200](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) \r\n\r\n## Lista de parâmetros\r\n\r\nParâmetro     | Descrição\r\n------------- | -------------\r\ntrans_cod     | ID da Fatura na Eduzz ( Venda )\r\ntrans_value | Valor da compra\r\ntrans_paid    | Valor pago\r\ntrans_status  | Status do pagamento ( Ver tabela de status )\r\ntrans_createdate | Data de criação da fatura\r\ntrans_paiddate | Data de pagamento da fatura\r\nproduct_cod   | ID do produto ( Conteúdo )\r\nproduct_name | Nome do produto\r\ncus_cod\t| ID do Cliente na Eduzz\r\ncus_taxnumber | Documento do Cliente\r\ncus_name | Nome do Cliente\r\ncus_email | E-mail do Cliente\r\ncus_address | Endereço do Cliente\r\ncus_address_number | Número do Endereço do cliente\r\ncus_address_country | País do Cliente\r\ncus_address_district | Bairro do Cliente\r\ncus_address_comp | Complemento do Cliente\r\ncus_address_city | Cidade do Cliente \r\ncus_address_state | Estado do Cliente\r\ncus_address_zip_code | CEP do Cliente\r\naff_cod | ID do Afiliado na Eduzz\r\naff_name | Nome do Afiliado\r\naff_email | E-mail do Afiliado\r\naff_value | Valor da comissão do afiliado \r\n\r\n\r\n## Tabela de status da fatura\r\n\r\nID  | Status | Descrição\r\n--- | ------ | -----------\r\n3 | Paga | Compra foi paga, o cliente já esta apto a receber o produto \r\n4 | Cancelada | Fatura Cancelada pela Eduzz\r\n6 | Aguardando Reembolso | Cliente solicitou reembolso, porem o mesmo ainda não foi efetuado\r\n7 | Reembolsado | Cliente já foi reembolsado pela eduzz\r\n8 | Em Análise | Cliente efetuou o pagamento, porém esta em análise pela instituição financeira\r\n11 | Em Recuperacao | Fatura entrou para o processo de recuperação\r\n\r\n## Exemplo php\r\n```php\r\n<?php\r\n\r\n\t//Exemplo webhook Eduzz\r\n\r\n\tforeach ($_POST as $key => $value)\t\r\n\t\t$$key = $value;\r\n\r\n\r\n\tif( $api_key == 'SUACHAVEDEAPI' )\r\n\t{\r\n\t\t\r\n\t\tswitch ($trans_status)\r\n\t\t{\r\n\t\t\tcase '3' :\r\n\t\t\t\t\t\t#Pagou\r\n\t\t\t\t\t\tlibera_acesso();\r\n\t\t\t\tbreak;\r\n\t\t\tcase '6':   #Aguardando reembolso\r\n\t\t\tcase '7':   #Reembolsado\r\n\t\t\t\t\t\tremove_acesso();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t#...\r\n\t\t\t\t#...\r\n\t\t\t\t#...\r\n\t\t\tdefault:\r\n\t\t\t\techo \"STATUS DESCONHECIDO\";\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\telse\r\n\t\techo \"ACESSO INVALIDO\";\r\n\r\n\tfunction libera_acesso()\r\n\t{\r\n\t\techo \"ACESSO LIBERADO\";\r\n\t}\r\n\r\n\tfunction remove_acesso()\r\n\t{\r\n\t\techo \"ACESSO REMOVIDO\";\r\n\t}\r\n\r\n?>\r\n```\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}